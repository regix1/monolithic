# User/Group IDs for file permissions
# Set these to match your host user's UID/GID
# Run 'id' on your host to find your UID/GID
# Or set to 'www-data' to use the default www-data user
PUID=1006
PGID=1006

# Cache Configuration
CACHE_DISK_SIZE=1000g
CACHE_INDEX_SIZE=500m
CACHE_MAX_AGE=3560d
CACHE_SLICE_SIZE=1m
MIN_FREE_DISK=10g

# DNS Configuration
# Upstream DNS servers to use
UPSTREAM_DNS=8.8.8.8 8.8.4.4

# Cache Domains Repository
CACHE_DOMAINS_REPO=https://github.com/uklans/cache-domains.git
CACHE_DOMAINS_BRANCH=master
# Set to true to skip fetching/updating cache-domains on startup
NOFETCH=false

# Nginx Configuration
NGINX_WORKER_PROCESSES=auto
# Log format: cachelog (human-readable) or cachelog-json (JSON for log parsers)
NGINX_LOG_FORMAT=cachelog
# Output nginx access logs to stdout for debugging
NGINX_LOG_TO_STDOUT=false

# Nginx Timeout Configuration
NGINX_PROXY_CONNECT_TIMEOUT=300s
NGINX_PROXY_SEND_TIMEOUT=300s
NGINX_PROXY_READ_TIMEOUT=300s
NGINX_SEND_TIMEOUT=300s

# Permissions Check
SKIP_PERMS_CHECK=false
FORCE_PERMS_CHECK=false

# Logging
LOGFILE_RETENTION=3560
BEAT_TIME=1h
# Supervisord log level (critical, error, warn, info, debug, trace, blather)
SUPERVISORD_LOGLEVEL=error

# SSL Bump Configuration (HTTPS Caching)
# Set to true to enable HTTPS interception and caching
# WARNING: Requires installing CA certificate on all client machines
# Certificate will be generated in /data/ssl/ on first startup
# Auto-detects which domains require HTTPS on each startup
ENABLE_SSL_BUMP=false

# SSL Bump Testing Options
# Timeout in seconds for testing each domain (default: 3)
SSL_BUMP_TEST_TIMEOUT=3
# Set to true to force re-test all domains (ignores cache)
SSL_BUMP_RETEST=false

# SSL Bump Failure Handling
# Number of SSL failures before bypassing a domain (default: 3)
SSL_BUMP_MAX_FAILURES=3
# How often to check for SSL failures in seconds (default: 30)
SSL_BUMP_CHECK_INTERVAL=30
